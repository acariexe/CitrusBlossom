<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <title>#ğ–¬ğ–¨ğ–¸ğ– ğ–ªğ–¨ğ–±ğ–¨</title>
  </head>

  <body>
    <nav class="main-navbar" id="top-nav">
      <div class="nav-container">
        <a href="#home"><img src="img/IMG_4409.PNG" alt="icon" class="nav-icon" /></a>

        <div class="nav-menu">
          <a href="#atsumu">atsumu</a>
          <a href="#akari">akari</a>
          <a href="#miyakiri">miyakiri</a>
          <a href="#timeline">timeline</a>
          <a href="#moments">moments</a>
        </div>
      </div>
    </nav>

    <div id="player" style="display: none"></div>

    <div class="scroll-wrapper">
      <section id="home" class="full-page">
        <header>
          <h1 class="title">Citrus Blossom</h1>
          <p class="subtitle">#miyakiri</p>
        </header>

        <main class="content">
          <div class="social-links">
            <a href="https://www.facebook.com/acariexe/" target="_blank"><i class="fa-brands fa-facebook-f"></i></a>
            <a href="https://acariexe.carrd.co/" target="_blank"><i class="fa-regular fa-address-card"></i></a>
          </div>
          <div class="main-image">
            <img src="img/IMG_7250.jpg" alt="eyes are loud." />
          </div>
        </main>
      </section>

      <section id="atsumu" class="full-page sub-page">
        <div class="content-box">
          <h2>atsumu</h2>
          <p>é€™è£¡æ˜¯é—œæ–¼ atsumu çš„å…§å®¹...</p>
        </div>
      </section>

      <section id="akari" class="full-page sub-page">
        <div class="content-box">
          <h2>akari</h2>
          <p>é€™è£¡æ˜¯é—œæ–¼ akari çš„å…§å®¹...</p>
        </div>
      </section>
    </div>

    <footer class="persistent-footer">
      <div class="controls">
        <div class="footer-left">
          <span id="play-btn" class="nav-link">play</span>
        </div>
        <div class="footer-right" id="footer-dynamic">
          <nav class="footer-nav">
            <a href="#atsumu" class="footer-link">atsumu</a>
            <a href="#akari" class="footer-link">akari</a>
            <a href="#miyakiri" class="footer-link">miyakiri</a>
            <a href="#timeline" class="footer-link">timeline</a>
            <a href="#moments" class="footer-link">moments</a>
          </nav>
        </div>
      </div>
    </footer>

    <script>
      // YouTube API é‚è¼¯ (è«‹å¡«å…¥ä½ çš„å½±ç‰‡ ID)
      var tag = document.createElement("script");
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName("script")[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player("player", {
          height: "0",
          width: "0",
          videoId: "ä½ çš„å½±ç‰‡ID",
          playerVars: { playsinline: 1, controls: 0 },
          events: { onReady: onPlayerReady },
        });
      }

      function onPlayerReady(event) {
        const playBtn = document.getElementById("play-btn");
        playBtn.addEventListener("click", () => {
          const state = player.getPlayerState();
          if (state === 1) {
            player.pauseVideo();
            playBtn.innerText = "play";
          } else {
            player.playVideo();
            playBtn.innerText = "pause";
          }
        });
      }

      // Navbar æ²å‹•é¡¯ç¤ºé‚è¼¯
      window.onscroll = function () {
        const nav = document.getElementById("top-nav");
        if (window.pageYOffset > 300) {
          // æ²å‹•è¶…é 300px æ‰å‡ºç¾
          nav.style.opacity = "1";
        } else {
          nav.style.opacity = "0";
        }
      };

      // å–å¾—å°è¦½åˆ—èˆ‡ Footer å‹•æ…‹å€åŸŸ
      const nav = document.getElementById("top-nav");
      const footerDynamic = document.getElementById("footer-dynamic");

      // é å…ˆæº–å‚™å¥½ç›®éŒ„çš„ HTML ä»£ç¢¼ (æŠŠåŸæœ¬ HTML è£¡é‚£æ®µè¤‡è£½éä¾†)
      const menuHtml = `
    <nav class="footer-nav">
        <a href="#atsumu" class="footer-link">atsumu</a>
        <a href="#akari" class="footer-link">akari</a>
        <a href="#miyakiri" class="footer-link">miyakiri</a>
        <a href="#timeline" class="footer-link">timeline</a>
        <a href="#moments" class="footer-link">moments</a>
    </nav>`;

      // æº–å‚™å¥½ç‰ˆæ¬Šæ–‡å­—
      const copyrightHtml = `<span class="copyright-text">(c) acariexe 2025</span>`;

      window.onscroll = function () {
        if (window.pageYOffset > 300) {
          // 1. é¡¯ç¤º Navbar
          nav.style.opacity = "1";
          nav.style.pointerEvents = "auto"; // è®“ Navbar å¯ä»¥é»æ“Š

          // 2. è®Šæ› Footer ç‚ºç‰ˆæ¬Šè³‡è¨Š
          if (footerDynamic.innerHTML !== copyrightHtml) {
            footerDynamic.style.opacity = "0"; // å…ˆæ·¡å‡º
            setTimeout(() => {
              footerDynamic.innerHTML = copyrightHtml;
              footerDynamic.style.opacity = "1"; // æ›¿æ›å¾Œæ·¡å…¥
            }, 300);
          }
        } else {
          // 1. éš±è— Navbar
          nav.style.opacity = "0";
          nav.style.pointerEvents = "none"; // é˜²æ­¢éš±è—æ™‚é»åˆ°

          // 2. è®Šæ› Footer å›åˆ°ç›®éŒ„
          if (footerDynamic.innerHTML !== menuHtml) {
            footerDynamic.style.opacity = "0";
            setTimeout(() => {
              footerDynamic.innerHTML = menuHtml;
              footerDynamic.style.opacity = "1";
            }, 300);
          }
        }
      };
    </script>
  </body>
</html>
